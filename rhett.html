<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Rhett_AI - Your personal AI speech Therapist" />
    <title>Rhett AI Speech Therapist</title>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,400;0,600;0,700;1,100;1,400;1,500&display=swap");

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            color: rgb(0, 200, 255);
            position: fixed;
            font-family: "Poppins", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
                Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
        }

        body {
            background-color: black;

        }

        .hide_on_small {
            background-image: url('background.png');

            background-repeat: no-repeat;
            background-position: center;
            background-size: contain;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /*#region speech therapy */
        #wordOrPhrase {
            color: white;
            position: fixed;
            top: 25%;
            left: 25%;
            font-size: 50px;
        }

        #start_rhett_btn {
            border: seashell;
            outline: none;
            position: fixed;
            left: 50%;
            transform: translateX(0);
            top: 80%;
            display: flex;
            justify-content: center;
            align-items: center;

        }

        #start_rhett_btn p {
            font-size: 30px;
        }

        #start_rhett_btn img {
            height: 300px;
        }

        #stop_rhett_btn {

            left: 70%;

            top: 29%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            display: none;
        }

        #stop_rhett_btn p {
            font-size: 30px;
        }

        #stop_rhett_btn img {
            height: 300px;
            filter: blur(5px);
        }

        #rhett_listening {
            display: none;
            border: 10px solid rgba(238, 251, 255, 0.544);
            border-radius: 10%;
            opacity: 50%;
            background-color: transparent;
            outline: none;
            position: fixed;
            height: 15%;
            width: 30%;
            left: 35%;
            font-size: larger;
            font-weight: bold;
            transform: translateX(0);
            top: 75%;
            justify-content: center;
            align-items: center;
            text-align: center
        }

        /*#endregion*/

        /*#region stars*/
        .correctspeech {
            color: gold;
            font-size: 100px;
            position: fixed;
            top: 0.25%;
            left: 45%;
            animation-name: spin;
            animation-duration: 1000ms;
            animation-iteration-count: infinite;
            animation-timing-function: linear;

        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        /*#endregion*/



        /*#region not related to speech therapy*/
        button {
            color: black;
            /* top: 50%;
  left: 50%; */
        }

        label {
            color: rgb(163, 0, 0);
            text-align: left;
        }

        input {
            color: black;
            outline: none;
            border: none;
            border-bottom: 3px solid black;
            width: 60vw;
        }

        #sub_btn {
            background-color: red;
            color: white;
            width: 80px;
            padding: 10px 5px;
            outline: none;
            border: none;
            border-radius: 10px;
        }

        .machine {
            background-color: black;
            height: 100vh;
            width: 100vw;
            user-select: none;
        }

        .machine * {
            position: absolute;
        }

        #heart {
            bottom: 0;
            left: 0;
        }

        #iron_man {
            bottom: 0;
            right: 0;
        }



        .in_middle {
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 50px;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            flex-direction: column;
            align-items: center;
            z-index: 10000;

            width: 80vw;
            height: 70vh;
            overflow-y: scroll;
        }

        .in_middle::-webkit-scrollbar {
            display: block;
        }

        .in_middle::-webkit-scrollbar-track {
            border-radius: 10px;
        }

        .in_middle::-webkit-scrollbar-thumb {
            background: red;
            border-radius: 10px;
        }

        .icon {
            height: 25px;
            width: 25px;
            object-fit: cover;
            padding: 3px;
            background-color: white;
            border-radius: 50%;
        }

        .cont * {
            position: static;
        }

        .cont {
            top: 10px;
            display: flex;
            align-items: center;
            justify-content: space-around;
        }

        #clocktime {
            font-size: 24px;
        }

        #hiddenclocktime {
            display: none;
        }

        #hiddensecondcounter {
            display: none;
            color: rgb(251, 193, 3);
        }

        .battery {
            left: 94vw;
            width: 120px;
            transform: translateX(-50%);
            font-size: 12px;


        }

        .clock {
            width: 150px;
            letter-spacing: 2px;
            left: 1%;
            height: 5%;
        }

        .internet {
            top: 4%;
            left: 92vw;
            width: 120px;
        }

        #centrepiece {
            display: flex;
            justify-content: center;
            /* filter: hue-rotate(165deg);
            opacity: 0.75;*/

        }

        #centrebackground {
            z-index: -105;
            top: 20;
            display: flex;
            max-width: 36%;
            /* filter: hue-rotate(220deg);*/
        }

        .in_middle * {
            position: static;
        }

        .temp {
            top: 10px;
            right: 10px;
            text-align: right;
            font-size: smaller;
        }

        .temp * {
            position: static;
        }

        .messages * {
            position: static;
        }

        .messages {
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            height: 400px;
            overflow-y: scroll;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            padding-bottom: 15px;
            z-index: 1000;
        }

        .usermsg {
            text-align: right;
            width: 300px;
            color: rgb(113, 113, 235);
        }

        .jmsg {
            text-align: left;
            margin-top: 5px;
            width: 300px;
            color: rgb(245, 61, 61);
        }

        .messages::-webkit-scrollbar {
            display: none;
        }






        .new_rhett_window {
            display: none;
        }

        .left_links {
            left: 30vw;
            top: 34vh;
        }

        .left_links ul {
            line-height: 60px;

        }

        .right_links {
            left: 65vw;
            top: 34vh;
            text-align: justify;
            text-align-last: right;
        }

        .right_links ul {
            line-height: 60px;
        }

        form {
            background-color: rgb(0, 200, 255);

            width: 40vw;
            height: 44px;
            border-radius: 5px;
            display: flex;
            flex-direction: row;
            align-items: center;
            left: 30vw;
            top: 16vh
        }

        input {
            all: unset;
            font: 16px system-ui;
            color: #fff;
            height: 100%;
            width: 100%;
            padding: 6px 10px;
        }

        ::placeholder {
            color: #fff;
            opacity: 0.7;
        }

        #searchbox {
            all: unset;
            cursor: pointer;
            width: 40px;
            height: 40px;
            opacity: 0.5
        }

        .searchform {
            opacity: 0.25
        }

        .searchform input {
            opacity: 1;
        }

        svg {
            color: black;
            fill: white;
            top: 15.7vh;
            left: 67%;
            width: 50px;
            height: 50px;
            padding: 10px;
            z-index: -1
        }

        @media (max-width:720px) {

            #start_rhett_btn {
                left: 50%;
                top: 80vh;
            }

            #start_rhett_btn p {
                font-size: 15px;
            }

            #stop_rhett_btn {

                left: 50%;

                top: 80vh;
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 9999;
                display: none;
            }

            #stop_rhett_btn p {
                font-size: 15px;
                color: red
            }

            .hide_on_small {
                background-image: url('verticalbackground.png');

                background-repeat: no-repeat;
                background-position: center;
                background-size: contain;
                display: flex;
                justify-content: center;
                align-items: center;
            }

            #centrepiece {
                height: 200px;
                width: 200px;
            }

            .clock_hidden {
                display: none;
            }

            #clocktime {
                font-size: 10px;
                font-weight: bold;
            }

            .battery {
                left: 20vw;
                height: 11.5vh;
                width: 120px;
                transform: translateX(-50%);
                font-size: 12px;


            }

            .clock {
                width: 15px;
                letter-spacing: 2px;
                left: 18%;
                height: 5%;
            }

            .internet {
                top: 2%;
                left: 56%;
                width: 120px;
                font-size: 10px
            }


            .left_links {
                left: 5vw;
                top: 37vh;
            }

            .left_links ul {
                line-height: 40px;
                font-size: 10px;

            }

            .right_links {
                left: 82vw;
                top: 37vh;
            }

            .right_links ul {
                line-height: 40px;
                font-size: 10px;
            }

            form {
                background-color: rgb(0, 200, 255);

                width: 300px;
                height: 44px;
                border-radius: 5px;
                display: flex;
                flex-direction: row;
                align-items: center;
                left: 8vw;
                top: 20vh
            }

            input {
                all: unset;
                font: 16px system-ui;
                color: #fff;
                height: 100%;
                width: 100%;
                padding: 6px 10px;
            }

            ::placeholder {
                color: #fff;
                opacity: 0.7;
            }

            .searchform {
                opacity: 0.5
            }

            #searchbox {
                all: unset;
                cursor: pointer;
                width: 40px;
                height: 40px;
                opacity: 0.5;

            }

            svg {
                color: black;
                fill: white;
                top: 19.7vh;
                left: 80%;
                width: 50px;
                height: 50px;
                padding: 10px;
                z-index: -1
            }

        }

        /*#endregion*/
        /* @media (max-width: 300px) {
            .hide_on_small {
                display: none;
            }

            .new_rhett_window {
                display: block;
            }

            #start_rhett_btn {
                display: none;
            }
        } */
    </style>

    <link rel="icon" href="./rhetticonblue.png">
</head>

<body>
    <!--#region html-->


    <audio src="./newpowerup.mp3" id="loadsound"></audio>

    <div class="machine hide_on_small">
        <img src="./centrepiece.gif" id="centrepiece" />
        <img src="./4ff0650a75cd3cfaf6c6b713391588ab.gif" id="centrebackground" />

        <div class="clock cont">
            <p id="clocktime"></p>
        </div>
        <div class="clock_hidden">
            <p id="hiddenclocktime"></p>
        </div>
        <div class="seconds_counter">
            <p id="hiddensecondcounter"></p>
        </div>
        <div class="internet cont">
            <p id="internet"></p>
        </div>
        <div class="battery cont">
            <p id="battery"></p>
        </div>
        <p class="correctspeech" id="thatiscorrect"></p>
        <!-- <img src="./iron_man.gif" id="iron_man" /> -->
    </div>

    <form id="form" class="searchform">
        <input id="query" name="q" placeholder="Search...">
        <button id="searchbox" type="button-btn">
            <svg viewBox="0 0 1024 1024">
                <path class="path1"
                    d="M848.471 928l-263.059-263.059c-48.941 36.706-110.118 55.059-177.412 55.059-171.294 0-312-140.706-312-312s140.706-312 312-312c171.294 0 312 140.706 312 312 0 67.294-24.471 128.471-55.059 177.412l263.059 263.059-79.529 79.529zM189.623 408.078c0 121.364 97.091 218.455 218.455 218.455s218.455-97.091 218.455-218.455c0-121.364-103.159-218.455-218.455-218.455-121.364 0-218.455 97.091-218.455 218.455z">
                </path>
            </svg>
        </button>
    </form>
    <div class="requiredWordOrPhrase" id="wordOrPhrase">continue</div>

    <button id="start_rhett_btn" class="hide_on_small">

        <p>Start Recognition</p>
    </button>
    <textarea id="rhett_listening"></textarea>

    <button id="stop_rhett_btn" class="hide_on_small">
        <!-- <img src="4ff0650a75cd3cfaf6c6b713391588ab.gif" alt="start rhett" />
        -->
        <p>Stop Recognition</p>
    </button>


    <!--#endregion-->

    <script>


        //#region on load
        window.onload = () => {
            recognition.start()
            //check level
            const lvlcheck = localStorage.getItem("lvl")
            // if (!lvlcheck) {
            //     localStorage.setItem("lvl", 'level1')
            //     readOut('systems are now fully operational, lets get started')
            // }
            // else {
            //     readOut('systems are now fully operational, shall we continue?')
            // }

            //console.log(localStorage.getItem('score'))

            //#region ui vars and elements


            const time = document.querySelector("#clocktime");
            const machine = document.querySelector(".machine");
            // const msgs = document.querySelector(".messages");
            // whether the recognition is stopiing on my command or automatically
            let stopingR = false;


            // date and time
            let date = new Date();
            let hrs = date.getHours();
            let mins = date.getMinutes();
            let secs = date.getSeconds();


            let charge, chargeStatus, connectivity, currentTime
            chargeStatus = "unplugged"

            // battery
            let batteryPromise = navigator.getBattery();
            batteryPromise.then(batteryCallback);

            // internet connectivity

            if (navigator.onLine) {
                document.querySelector("#internet").textContent = "online"
                connectivity = "online"
            } else {
                document.querySelector("#internet").textContent = "offline"
                connectivity = "offline"
            }

            setInterval(() => {
                if (navigator.onLine) {
                    document.querySelector("#internet").textContent = "online"
                    connectivity = "online"
                } else {
                    document.querySelector("#internet").textContent = "offline"
                    connectivity = "offline"
                }
            }, 60000);

            function batteryCallback(batteryObject) {
                printBatteryStatus(batteryObject);
                setInterval(() => {
                    printBatteryStatus(batteryObject);
                }, 5000);
            }


            const memory = navigator.deviceMemory
            //console.log("apparent memory: " + memory)
            const alerted = false;
            function printBatteryStatus(batteryObject) {
                document.querySelector("#battery").textContent = `${(batteryObject.level * 100).toFixed(0)
                    }% degrading`;

                if (batteryObject.charging === true) {
                    document.querySelector("#battery").textContent = `${(batteryObject.level * 100).toFixed(0)
                        }% charging`;
                    //these work but the keep repeating, bloody annoying
                    //readOut("system at" + (batteryObject.level * 100).toFixed(0) + "percent and charging ")


                }

                if (batteryObject.charging === true && (batteryObject.level * 100).toFixed(0) === '100') {
                    document.querySelector("#battery").textContent = "Fully Charged"
                }
                //want vocal alerts for charging battery disconnected cable and low battery

            }
            //#endregion

        };


        //#endregion

        //#region speech recognition

        //#region choose language


        if (localStorage.getItem("lang") === null) {
            localStorage.setItem("lang", "en-US")
        }
        //#endregion

        //#region start recognition
        const SpeechRecognition =
            window.SpeechRecognition || window.webkitSpeechRecognition;

        const recognition = new SpeechRecognition();
        recognition.continuous = true;
        recognition.lang = localStorage.getItem("lang")


        var synth = window.speechSynthesis


        recognition.onstart = function () {
            //console.log("voice recognition activated");
            document.querySelector("#stop_rhett_btn").style.display = "flex"
            document.querySelector("#start_rhett_btn").style.display = "none"
            document.querySelector("#rhett_listening").style.display = "flex"

        };
        let stopingR = false;

        recognition.onend = () => {
            if (stopingR === false) {
                setTimeout(() => {
                    recognition.start();

                }, 3000);

            } else if (stopingR === true) {
                recognition.stop();
                document.querySelector("#stop_rhett_btn").style.display = "none"
                document.querySelector("#start_rhett_btn").style.display = "flex"
                document.querySelector("#rhett_listening").style.display = "none"
            }
        };
        const replydatetime = new Date();
        const replyhours = replydatetime.getHours()


        //#region random phrase spoken when recognition running manually
        const activeList = [
            "my voice systems are now active",
            "voice control activated",
            "I am now capable of executing commands via voice control"
        ];

        const systemActive = activeList[Math.floor(Math.random() * activeList.length)];
        //#endregion

        //#region start/stop rhett with btn
        document.querySelector("#start_rhett_btn").onclick = function () {
            recognition.start();
            readOut(systemActive)


        }


        document.querySelector("#stop_rhett_btn").addEventListener("click", () => {
            stopingR = true;
            recognition.stop();
            //location.reload();
        })
        //#endregion


        //#endregion

        //#region initial word based on saved score (update as i progress)
        const score = localStorage.getItem('score')
        if (!score) {
            localStorage.setItem('score', '0')
        }
        //#region less then 5
        if (score <= 5) {
            const rwordslvl1 = fetch('./letters/r/r.json')
                .then((response) => response.json())

                .then((json) => {
                    const jsondata = JSON.stringify(json);
                    const jsondata2 = JSON.parse(jsondata)

                    //#region pick a random word to check
                    //this is too random i need to iterate the list not just run a constant loop
                    const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                    //console.log(word);
                    //change key word or phrase
                    document.getElementById('wordOrPhrase').innerText = word;
                    document.getElementById('wordOrPhrase').style = 'color:white;'
                    //#endregion
                })
        }
        //#endregion
        //#region 6-10
        else if (score > 5 && score <= 10) {
            const rmiddlewordslvl1 = fetch('./letters/r/rmiddle.json')
                .then((response) => response.json())

                .then((json) => {
                    const jsondata = JSON.stringify(json);
                    const jsondata2 = JSON.parse(jsondata)

                    //#region pick a random word to check
                    //this is too random i need to iterate the list not just run a constant loop
                    const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                    //console.log(word);
                    //change key word or phrase
                    document.getElementById('wordOrPhrase').innerText = word;
                    document.getElementById('wordOrPhrase').style = 'color:white;'
                    //#endregion
                })

        }
        //#endregion
        //#region 10-15
        else if (score > 10 && score <= 15) {
            const rendwordslvl1 = fetch('./letters/r/rend.json')
                .then((response) => response.json())

                .then((json) => {
                    const jsondata = JSON.stringify(json);
                    const jsondata2 = JSON.parse(jsondata)

                    //#region pick a random word to check
                    //this is too random i need to iterate the list not just run a constant loop
                    const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                    //console.log(word);
                    //change key word or phrase
                    document.getElementById('wordOrPhrase').innerText = word;
                    document.getElementById('wordOrPhrase').style = 'color:white;'
                    //#endregion
                })
        }
        //#endregion
        //#region 15-20
        else if (score > 15 && score <= 20) {
            const sendwordslvl1 = fetch('./letters/s/s.json')
                .then((response) => response.json())

                .then((json) => {
                    const jsondata = JSON.stringify(json);
                    const jsondata2 = JSON.parse(jsondata)

                    //#region pick a random word to check
                    //this is too random i need to iterate the list not just run a constant loop
                    const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                    //console.log(word);
                    //change key word or phrase
                    document.getElementById('wordOrPhrase').innerText = word;
                    document.getElementById('wordOrPhrase').style = 'color:white;'
                    //#endregion

                })
        }
        //#endregion
        //#region 20-25
        else if (score > 20 && score <= 25) {
            const sendwordslvl1 = fetch('./letters/s/smiddle.json')
                .then((response) => response.json())

                .then((json) => {
                    const jsondata = JSON.stringify(json);
                    const jsondata2 = JSON.parse(jsondata)

                    //#region pick a random word to check
                    //this is too random i need to iterate the list not just run a constant loop
                    const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                    //console.log(word);
                    //change key word or phrase
                    document.getElementById('wordOrPhrase').innerText = word;
                    document.getElementById('wordOrPhrase').style = 'color:white;'
                    //#endregion
                })
        }
        //#endregion
        //#region 25-30
        else if (score > 25 && score <= 30) {
            const sendwordslvl1 = fetch('./letters/s/send.json')
                .then((response) => response.json())

                .then((json) => {
                    const jsondata = JSON.stringify(json);
                    const jsondata2 = JSON.parse(jsondata)

                    //#region pick a random word to check
                    //this is too random i need to iterate the list not just run a constant loop
                    const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                    //console.log(word);
                    //change key word or phrase
                    document.getElementById('wordOrPhrase').innerText = word;
                    document.getElementById('wordOrPhrase').style = 'color:white;'
                    //#endregion
                })
        }
        //#endregion
        //#region 30-35
        else if (score > 30 && score <= 35) {
            const sendwordslvl1 = fetch('./letters/th/th.json')
                .then((response) => response.json())

                .then((json) => {
                    const jsondata = JSON.stringify(json);
                    const jsondata2 = JSON.parse(jsondata)

                    //#region pick a random word to check
                    //this is too random i need to iterate the list not just run a constant loop
                    const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                    //console.log(word);
                    //change key word or phrase
                    document.getElementById('wordOrPhrase').innerText = word;
                    document.getElementById('wordOrPhrase').style = 'color:white;'
                    //#endregion
                })
        }
        //#endregion
        //#region 35-40
        else if (score > 35 && score <= 40) {
            const thwordslvl1 = fetch('./letters/th/thmiddle.json')
                .then((response) => response.json())

                .then((json) => {
                    const jsondata = JSON.stringify(json);
                    const jsondata2 = JSON.parse(jsondata)

                    //#region pick a random word to check
                    //this is too random i need to iterate the list not just run a constant loop
                    const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                    //console.log(word);
                    //change key word or phrase
                    document.getElementById('wordOrPhrase').innerText = word;
                    document.getElementById('wordOrPhrase').style = 'color:white;'
                    //#endregion
                })
        }
        //#endregion
        //#region 40-45
        else if (score > 40 && score <= 45) {
            const thmiddlewordslvl1 = fetch('./letters/th/thend.json')
                .then((response) => response.json())

                .then((json) => {
                    const jsondata = JSON.stringify(json);
                    const jsondata2 = JSON.parse(jsondata)

                    //#region pick a random word to check
                    //this is too random i need to iterate the list not just run a constant loop
                    const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                    //console.log(word);
                    //change key word or phrase
                    document.getElementById('wordOrPhrase').innerText = word;
                    document.getElementById('wordOrPhrase').style = 'color:white;'
                    //#endregion
                })
        }
        //#endregion
        //#region 45-50
        else if (score > 45 && score <= 50) {
            const thendwordslvl1 = fetch('./letters/th/thend.json')
                .then((response) => response.json())

                .then((json) => {
                    const jsondata = JSON.stringify(json);
                    const jsondata2 = JSON.parse(jsondata)

                    //#region pick a random word to check
                    //this is too random i need to iterate the list not just run a constant loop
                    const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                    //console.log(word);
                    //change key word or phrase
                    document.getElementById('wordOrPhrase').innerText = word;
                    document.getElementById('wordOrPhrase').style = 'color:white;'
                    //#endregion
                })
        }
        //#endregion
        //#region 50-55
        else if (score > 50 && score <= 55) {
            const lwordslvl1 = fetch('./letters/l/l.json')
                .then((response) => response.json())

                .then((json) => {
                    const jsondata = JSON.stringify(json);
                    const jsondata2 = JSON.parse(jsondata)

                    //#region pick a random word to check
                    //this is too random i need to iterate the list not just run a constant loop
                    const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                    //console.log(word);
                    //change key word or phrase
                    document.getElementById('wordOrPhrase').innerText = word;
                    document.getElementById('wordOrPhrase').style = 'color:white;'
                    //#endregion
                })
        }
        //#endregion


        //#endregion

        //#region onresult and key purpose
        recognition.onresult = async function (event) {
            let current = event.resultIndex;
            let transcript = event.results[current][0].transcript;
            transcript = transcript.toLowerCase();
            // minor bug here, recognition  error when transcribing speechsynthesis
            //#region Rhetts key purpose
            ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            ////////////////////////////////////speech therapist///////////////////////////////////////////////////////////////////////////
            ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

            //#region if result is over certain confidence level enter into text area
            if (event.results[current][0].confidence > .5) {
                document.querySelector("#rhett_listening").textContent = transcript;
                const checkword = transcript;
                const correctword = document.getElementById('wordOrPhrase').textContent

                const score = localStorage.getItem('score')
                if (!score) {
                    localStorage.setItem('score', '0')
                }

                //#region  if attempt correct move on to next word 
                if (checkword == correctword || checkword == ' ' + correctword) {
                    //console.log('correct')
                    document.getElementById('wordOrPhrase').style = 'color:green;'
                    //#region have Rhett choose a response from following list
                    const correctList = [
                        "very good sir",
                        "Nice work",
                        "Well done master hawkins",
                        "That is correct",
                        "Very good...",
                        "fantastic"

                    ];

                    const ThatWasCorrect = correctList[Math.floor(Math.random() * correctList.length)];
                    document.getElementById('thatiscorrect').style = 'display: block'
                    document.getElementById('thatiscorrect').innerHTML = "⭐"

                    readOut(ThatWasCorrect)
                    //#endregion

                    //#region set new score
                    for (let i = 0; i < 100000000000; i++) {
                        if (score == i.toString()) {
                            localStorage.setItem('score', (i + 1).toString());
                            break;
                        }
                    }
                    //#region improved this but leaving it as commented because i wrote it therefore itcounts to written lines
                    // if (score == '0') {
                    //     localStorage.setItem('score', '1')
                    // }
                    // else if (score == '1') {
                    //     localStorage.setItem('score', '2')
                    // }
                    // else if (score == '2') {
                    //     localStorage.setItem('score', '3')
                    // }
                    // else if (score == '3') {
                    //     localStorage.setItem('score', '4')
                    // }
                    // else if (score == '4') {
                    //     localStorage.setItem('score', '5')
                    // }
                    // else if (score == '5') {
                    //     localStorage.setItem('score', '6')
                    // }
                    // else if (score == '6') {
                    //     localStorage.setItem('score', '7')
                    // }
                    // else if (score == '7') {
                    //     localStorage.setItem('score', '8')
                    // }
                    // else if (score == '8') {
                    //     localStorage.setItem('score', '9')
                    // }
                    // else if (score == '9') {
                    //     localStorage.setItem('score', '10')
                    // }
                    // else if (score == '10') {
                    //     localStorage.setItem('score', '11')
                    // }
                    // else if (score == '11') {
                    //     localStorage.setItem('score', '12')
                    // }
                    // else if (score == '12') {
                    //     localStorage.setItem('score', '13')
                    // }
                    // else if (score == '13') {
                    //     localStorage.setItem('score', '14')
                    // }
                    // else if (score == '14') {
                    //     localStorage.setItem('score', '15')
                    // }
                    // else if (score == '15') {
                    //     localStorage.setItem('score', '16')
                    // }
                    // else if (score == '16') {
                    //     localStorage.setItem('score', '17')
                    // }
                    // else if (score == '17') {
                    //     localStorage.setItem('score', '18')
                    // }
                    // else if (score == '18') {
                    //     localStorage.setItem('score', '19')
                    // }
                    // else if (score == '19') {
                    //     localStorage.setItem('score', '20')
                    // }
                    // else if (score == '20') {
                    //     localStorage.setItem('score', '21')
                    // }
                    // else if (score == '21') {
                    //     localStorage.setItem('score', '22')
                    // }
                    // else if (score == '22') {
                    //     localStorage.setItem('score', '23')
                    // }
                    // else if (score == '23') {
                    //     localStorage.setItem('score', '24')
                    // }
                    // else if (score == '24') {
                    //     localStorage.setItem('score', '25')
                    // }
                    // else if (score == '25') {
                    //     localStorage.setItem('score', '26')
                    // }
                    // else if (score == '26') {
                    //     localStorage.setItem('score', '27')
                    // }
                    // else if (score == '27') {
                    //     localStorage.setItem('score', '28')
                    // }
                    // else if (score == '28') {
                    //     localStorage.setItem('score', '29')
                    // }
                    // else if (score == '29') {
                    //     localStorage.setItem('score', '30')
                    // }
                    // else if (score == '30') {
                    //     localStorage.setItem('score', '31')
                    // }
                    // else if (score == '31') {
                    //     localStorage.setItem('score', '32')
                    // }
                    // else if (score == '32') {
                    //     localStorage.setItem('score', '33')
                    // }
                    // else if (score == '33') {
                    //     localStorage.setItem('score', '34')
                    // }
                    // else if (score == '34') {
                    //     localStorage.setItem('score', '35')
                    // }
                    // else if (score == '35') {
                    //     localStorage.setItem('score', '36')
                    // }
                    // else if (score == '36') {
                    //     localStorage.setItem('score', '37')
                    // }
                    // else if (score == '37') {
                    //     localStorage.setItem('score', '38')
                    // }
                    // else if (score == '38') {
                    //     localStorage.setItem('score', '39')
                    // }
                    // else if (score == '39') {
                    //     localStorage.setItem('score', '40')
                    // }
                    // else if (score == '40') {
                    //     localStorage.setItem('score', '41')
                    // }
                    // else if (score == '41') {
                    //     localStorage.setItem('score', '42')
                    // }
                    // else if (score == '42') {
                    //     localStorage.setItem('score', '43')
                    // }
                    // else if (score == '43') {
                    //     localStorage.setItem('score', '44')
                    // }
                    // else if (score == '44') {
                    //     localStorage.setItem('score', '45')
                    // }
                    // else if (score == '45') {
                    //     localStorage.setItem('score', '46')
                    // }
                    // else if (score == '46') {
                    //     localStorage.setItem('score', '47')
                    // }
                    // else if (score == '47') {
                    //     localStorage.setItem('score', '48')
                    // }
                    // else if (score == '48') {
                    //     localStorage.setItem('score', '49')
                    // }
                    // else if (score == '49') {
                    //     localStorage.setItem('score', '50')
                    // }
                    // else if (score == '50') {
                    //     localStorage.setItem('score', '51')
                    // }
                    // else if (score == '51') {
                    //     localStorage.setItem('score', '52')
                    // }
                    // else if (score == '52') {
                    //     localStorage.setItem('score', '53')
                    // }
                    // else if (score == '53') {
                    //     localStorage.setItem('score', '54')
                    // }
                    // else if (score == '54') {
                    //     localStorage.setItem('score', '55')
                    // }
                    // else if (score == '55') {
                    //     localStorage.setItem('score', '56')
                    // }
                    // else if (score == '56') {
                    //     localStorage.setItem('score', '57')
                    // }
                    // else if (score == '57') {
                    //     localStorage.setItem('score', '58')
                    // }
                    // else if (score == '58') {
                    //     localStorage.setItem('score', '59')
                    // }
                    // else if (score == '59') {
                    //     localStorage.setItem('score', '60')
                    // }
                    // else if (score == '60') {
                    //     localStorage.setItem('score', '61')
                    // }
                    // else if (score == '61') {
                    //     localStorage.setItem('score', '62')
                    // }
                    // else if (score == '62') {
                    //     localStorage.setItem('score', '63')
                    // }
                    // else if (score == '63') {
                    //     localStorage.setItem('score', '64')
                    // }
                    // else if (score == '64') {
                    //     localStorage.setItem('score', '65')
                    // }
                    // else if (score == '65') {
                    //     localStorage.setItem('score', '66')
                    // }
                    // else if (score == '66') {
                    //     localStorage.setItem('score', '67')
                    // }
                    // else if (score == '67') {
                    //     localStorage.setItem('score', '68')
                    // }
                    // else if (score == '68') {
                    //     localStorage.setItem('score', '69')
                    // }
                    // else if (score == '69') {
                    //     localStorage.setItem('score', '70')
                    // }
                    // else if (score == '70') {
                    //     localStorage.setItem('score', '71')
                    // }
                    // else if (score == '71') {
                    //     localStorage.setItem('score', '72')
                    // }
                    // else if (score == '72') {
                    //     localStorage.setItem('score', '73')
                    // }
                    // else if (score == '73') {
                    //     localStorage.setItem('score', '74')
                    // }
                    // else if (score == '74') {
                    //     localStorage.setItem('score', '75')
                    // }
                    // else if (score == '75') {
                    //     localStorage.setItem('score', '76')
                    // }
                    // else if (score == '76') {
                    //     localStorage.setItem('score', '77')
                    // }
                    // else if (score == '77') {
                    //     localStorage.setItem('score', '78')
                    // }
                    // else if (score == '78') {
                    //     localStorage.setItem('score', '79')
                    // }
                    // else if (score == '79') {
                    //     localStorage.setItem('score', '80')
                    // }
                    //#endregion
                    await new Promise(resolve => setTimeout(resolve, 3000));
                    document.getElementById('thatiscorrect').style = 'display: none'
                    //#endregion
                    //console.log(score)
                    //#region get a new word
                    //#region below 5
                    if (score <= 5) {
                        const rwordslvl1 = fetch('./letters/r/r.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })
                    }
                    //#endregion
                    //#region 6-10
                    else if (score > 5 && score <= 10) {
                        const rmiddlewordslvl1 = fetch('./letters/r/rmiddle.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })

                    }
                    //#endregion
                    //#region 10-15
                    else if (score > 10 && score <= 15) {
                        const rendwordslvl1 = fetch('./letters/r/rend.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })
                    }
                    //#endregion
                    //#region 15-20
                    else if (score > 15 && score <= 20) {
                        const swordslvl1 = fetch('./letters/s/s.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })
                    }
                    //#endregion
                    //#region 20-25
                    else if (score > 20 && score <= 25) {
                        const smiddlewordslvl1 = fetch('./letters/s/smiddle.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })
                    }
                    //#endregion
                    //#region 25-30
                    else if (score > 25 && score <= 30) {
                        const sendwordslvl1 = fetch('./letters/s/send.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })
                    }
                    //#endregion
                    //#region 30-35
                    else if (score > 30 && score <= 35) {
                        const sendwordslvl1 = fetch('./letters/th/th.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })
                    }
                    //#endregion
                    //#region 35-40
                    else if (score > 35 && score <= 40) {
                        const thwordslvl1 = fetch('./letters/th/thmiddle.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })
                    }
                    //#endregion
                    //#region 40-45
                    else if (score > 40 && score <= 45) {
                        const thmiddlewordslvl1 = fetch('./letters/th/thend.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })
                    }
                    //#endregion
                    //#region 45-50
                    else if (score > 45 && score <= 50) {
                        const thendwordslvl1 = fetch('./letters/th/thend.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })
                    }
                    //#endregion
                    //#region 50-55
                    else if (score > 50 && score <= 55) {
                        const lwordslvl1 = fetch('./letters/l/l.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })
                    }
                    //#endregion
                    //#region 55-60
                    else if (score > 55 && score <= 60) {
                        const lmiddlewordslvl1 = fetch('./letters/l/lmiddle.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })
                    }
                    //#endregion
                    //#region 60-65
                    else if (score > 60 && score <= 65) {
                        const lendwordslvl1 = fetch('./letters/l/lend.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })
                    }
                    //#endregion
                    //#region 65-70
                    else if (score > 65 && score <= 70) {
                        const mwordslvl1 = fetch('./letters/m/m.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })
                    }
                    //#endregion
                    //#region 70-75
                    else if (score > 70 && score <= 75) {
                        const mmiddlewordslvl1 = fetch('./letters/m/mmiddle.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })
                    }
                    //#endregion
                    //#region 75-80
                    else if (score > 75 && score <= 80) {
                        const mendwordslvl1 = fetch('./letters/m/mend.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })
                    }
                    //#endregion
                    //#region 85-90
                    else if (score > 85 && score <= 90) {
                        const nwordslvl1 = fetch('./letters/n/n.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })
                    }
                    //#endregion
                    //#region 90-95
                    else if (score > 90 && score <= 95) {
                        const nmiddlewordslvl1 = fetch('./letters/n/nmiddle.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })
                    }
                    //#endregion
                    //#region 95-100
                    else if (score > 95 && score <= 100) {
                        const nendwordslvl1 = fetch('./letters/n/nend.json')
                            .then((response) => response.json())

                            .then((json) => {
                                const jsondata = JSON.stringify(json);
                                const jsondata2 = JSON.parse(jsondata)

                                //#region pick a random word to check
                                //this is too random i need to iterate the list not just run a constant loop
                                const word = jsondata2.words[Math.floor(Math.random() * jsondata2.words.length)];
                                //console.log(word);
                                //change key word or phrase
                                document.getElementById('wordOrPhrase').innerText = word;
                                document.getElementById('wordOrPhrase').style = 'color:white;'
                                //#endregion
                            })
                    }
                    //#endregion


                    //#endregion
                }
                //#endregion

                //#region if attempt is incorrect try again
                else {
                    //console.log('try again')
                    document.getElementById('wordOrPhrase').style = 'color:red;'
                    //#region rhett response to incorrect text
                    // const correctList = [
                    //     "I'm sorry sir, that was incorrect",
                    //     "please try again",
                    //     "I might have miss heard you, could you please repeat that?",
                    //     "Once more?",
                    //     "Nice try master Hawkins, but that wasn't quite right",
                    //     "could we try that one again please sir?"

                    // ];

                    // const ThatWasCorrect = correctList[Math.floor(Math.random() * correctList.length)];

                    // readOut(ThatWasCorrect)
                    //#endregion
                }
                //#endregion

                //#region reset attempt box
                setTimeout(() => {

                    document.querySelector("#rhett_listening").textContent = 'listening...'

                }, 1000);
                //#endregion
            }


            //#region attempt confidence
            //console.log("confidence" + event.results[current][0].confidence);
            //console.log('I think you said: ' + transcript)
            //#endregion


            //#endregion

            ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            ////////////////////////////////////end of speech therapist///////////////////////////////////////////////////////////////////////////
            ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

            //#endregion





            //#region various commands outside of speech therapy operations
            if (localStorage.getItem("lang") === "en-US") {

                // if (Date.now() === '12:40 pm') {
                //     readOut("this is an alarm")
                // }
                // }
                // availability check
                // greeting/wakewords
                const wakeList = [
                    "yes sir",
                    "yes sir?",
                    "how may i be of assistance?"
                ];

                const systemAwaken = wakeList[Math.floor(Math.random() * wakeList.length)];
                if (transcript.includes("you listening")) {
                    readOut(systemAwaken);
                }
                if (transcript.includes("hey rhett")) {
                    readOut(systemAwaken);
                }
                if (transcript.includes("you there")) {
                    readOut(systemAwaken);
                }
                //listening/ears on?
                const earsList = [
                    "of course, how may i help?",
                    "for you sir, always!",
                    "how may i be of assistance?"
                ];

                const earsOn = earsList[Math.floor(Math.random() * earsList.length)];
                if (transcript.includes("ears on")) {
                    readOut(earsOn);
                }

                if (transcript.includes("hi")) {
                    if (replyhours < '12') {
                        readOut("good morning master Hawkins")
                    }
                    else if (replyhours > '12' && replyhours < '16') {
                        readOut("good afternoon master hawkins")

                    }
                    else {
                        readOut("good evening master hawkins ")
                    }
                }

                if (transcript.includes("hello")) {
                    if (replyhours < '12') {
                        readOut("good morning master Hawkins")
                    }
                    else if (replyhours > '12' && replyhours < '16') {
                        readOut("good afternoon master hawkins")

                    }
                    else {
                        readOut("good evening master hawkins ")
                    }
                }



                // some casual commands
                if (transcript.includes("current charge")) {
                    readOut(`the current charge is ${charge}`);
                }
                if (transcript.includes("charging status")) {
                    readOut(`the current charging status is ${chargeStatus}`);
                }
                if (transcript.includes("what's the time")) {
                    readOut(clocktime.innerText);
                }
                if (transcript.includes("connection status")) {
                    readOut(`you are ${connectivity} sir`);
                }







                // close voice recognition
                if (transcript.includes("shut down" || "shutdown")) {
                    readOut("Ok sir i will take a nap");
                    stopingR = true;
                    recognition.stop();
                }
                // google

                if (transcript.includes("open google")) {
                    readOut("opening google");
                    let a = window.open("https://www.google.com/");
                    windowsB.push(a)
                }

                if (transcript.includes("search for")) {
                    readOut("here's your result");
                    let input = transcript.split("");
                    input.splice(0, 11);
                    input.pop();
                    input = input.join("").split(" ").join("+");
                    let a = window.open(`https://www.google.com/search?q=${input}`);
                    windowsB.push(a)
                }

                // youtube
                if (transcript.includes("open youtube")) {
                    readOut("opening youtube sir");
                    let a = window.open("https://www.youtube.com/");
                    windowsB.push(a)
                }


                // calendar
                if (transcript.includes("open calendar")) {
                    readOut("opening calendar");
                    let a = window.open("https://calendar.google.com/");
                    windowsB.push(a)
                }
                // close all opened tabs
                if (transcript.includes("close all tabs")) {
                    readOut("closing all tabs sir")
                    windowsB.forEach((e) => {
                        e.close()
                    })

                }


            }

            //#endregion


        }
        //#endregion

        //#endregion

        //#region speech synthesis

        function readOut(message) {
            const speech = new SpeechSynthesisUtterance();
            var voices = window.speechSynthesis.getVoices();
            speech.default = false;
            //alternate voice
            speech.voice = voices.filter(function (voice) { return voice.name == 'Microsoft George - English (United Kingdom)'; })[0];
            speech.pitch = 1.3;
            speech.lang = 'en-GB'; //Also added as for some reason android devices used for testing loaded spanish language 
            //speech.pitch = 0;
            speech.rate = 1.1
            speech.text = message;
            speech.volume = 1;
            window.speechSynthesis.speak(speech);
            //console.log("reading out");


            // createMsg("jmsg", message);
        }
        //#endregion

        //#region schedule

        // timer
        setInterval(() => {
            let date = new Date();
            let hrs = date.getHours();
            let mins = date.getMinutes();
            let secs = date.getSeconds();

            hrs = hrs % 12;
            hrs = hrs ? hrs : 12;
            hrs = hrs < 10 ? "0" + hrs : hrs;
            var ampm = hrs >= 12 ? 'PM' : 'AM';
            mins = mins < 10 ? "0" + mins : mins;
            secs = secs < 10 ? "0" + secs : secs;
            clocktime.textContent = `${hrs}:${mins}`;
            hiddenclocktime.textContent = `${hrs}:${mins}:${secs}${ampm}`;
            hiddensecondcounter.textContent = `${secs}`
            if (hiddenclocktime.innerText == '05:57:00AM') {
                readOut("its time to wake the children sir");
            }
        }, 1000);



        //todays date
        const today = new Date();
        const yyyy = today.getFullYear();
        let mm = today.getMonth() + 1; // Months start at 0!
        let dd = today.getDate();

        if (dd < 10) dd = '0' + dd;
        if (mm < 10) mm = '0' + mm;

        const formattedToday = dd + '/' + mm + '/' + yyyy;
        //console.log(formattedToday)

        //check schedule
        const jsondatacall = fetch('./data.json')
            .then((response) => response.json())
            //.then((json) => //console.log(json))
            .then((json) => {
                const jsondata = JSON.stringify(json);
                const jsondata2 = JSON.parse(jsondata)
                let x = 0;

                for (x; x < jsondata2.schedule.length; x++) {
                    ////console.log(jsondata2.schedule[x].date);
                    if (jsondata2.schedule[x].date === formattedToday) {

                        //readOut('systems are now fully operational')
                        readOut(' . . . .')
                        readOut(' . . . .')
                        readOut(' . . . .')
                        readOut(' . . . .')
                        readOut('pardon me sir, but it is urgent you complete' + jsondata2.schedule[x].title);
                        //alert('complete' + jsondata2.schedule[x].title)-+        .,.

                    }




                }
            });


        //#endregion

        //#region searchbar
        const f = document.getElementById('form');
        const q = document.getElementById('query');
        const google = 'https://www.google.com/search?q=';


        function submitted(event) {
            event.preventDefault();
            const url = google + '+' + q.value;
            const win = window.open(url, '_blank', 'toolbar=0,location=0,menubar=0');
            win.focus();
            document.getElementById('query').value = ''
        }

        f.addEventListener('submit', submitted);

        //#endregion


    </script>
</body>

</html>